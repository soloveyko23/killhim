(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);const t={"type-one":{logo:"./img/type-one/logo.png",die:"./img/type-one/die.jpg",fright:"./img/type-one/fright.jpg",default:"./img/type-one/default.jpg"},"type-two":{logo:"./img/type-two/logo.png",die:"./img/type-two/die.jpg",fright:"./img/type-two/fright.jpg",default:"./img/type-two/default.jpg"},"type-three":{logo:"./img/type-three/logo.png",die:"./img/type-three/die.jpg",fright:"./img/type-three/fright.jpg",default:"./img/type-three/default.jpg"}};let o=parseInt(localStorage.getItem("shotsRemaining"),10)||10,n=localStorage.getItem("lastResetDate")||(new Date).toDateString(),i=(()=>{const e=Object.keys(t);return e[Math.floor(Math.random()*e.length)]})(),l=!1,s=!1;const c=()=>{localStorage.setItem("shotsRemaining",o),localStorage.setItem("lastResetDate",n),localStorage.setItem("lastType",i)},r=(e,t)=>{const o=document.querySelector(t);if(!o)return null;let n=o.querySelector("img");return n||(n=document.createElement("img"),o.appendChild(n)),n.src=e,n},a=()=>{const e=document.querySelector(".tokens-info b");e&&(e.textContent=`${o} kill${1!==o?"s":""}/day`)},d=()=>{r(t[i].logo,".header-app__logo"),r(t[i].logo,".header-app__trade-image"),(()=>{const e=document.querySelector(".picture__image");if(!e)return;let o=e.querySelector("img");o||(o=document.createElement("img"),e.appendChild(o)),o.style.opacity="0",setTimeout((()=>{o.src=t[i].default,o.style.transition="opacity 300ms",o.style.opacity="1"}),100)})()},g=e=>{if(!s){new Audio(e).play().catch((e=>{console.error("Sound playback failed:",e)}))}};window.onload=()=>{(()=>{const e=new Date,t=e.toDateString(),i=e.toTimeString().slice(0,5);n!==t&&i>="00:00"&&(o=10,n=t,c())})(),a(),(()=>{const e=document.querySelector(".picture"),n=document.querySelector(".picture__cursor");d();const s=()=>window.innerWidth<=600||"ontouchstart"in document.documentElement;if(e){const r=(t,o=0,i=0)=>{if(n)if(t){const t=e.getBoundingClientRect(),l=o-t.left-n.offsetWidth/2,s=i-t.top-n.offsetHeight/2;n.style.display="block",n.style.left=`${l}px`,n.style.top=`${s}px`}else n.style.display="none"},d=d=>{if(o>0&&!l){if(l=!0,s()){const t=d.touches?d.touches[0]:d,o=e.getBoundingClientRect(),i=t.clientX-o.left,l=t.clientY-o.top;r(!0,t.clientX,t.clientY),n.style.left=i-n.offsetWidth/2+"px",n.style.top=l-n.offsetHeight/2+"px"}g("./img/sounds/shot.mp3");const u=e.querySelector(".picture__image img");u&&(u.src=t[i].die),o-=1,c(),a(),setTimeout((()=>{const o=e.querySelector(".picture__image img");o&&(o.src=t[i].default),l=!1,r(!1)}),500)}else o<=0&&alert("You have no shots remaining today!")};s()?e.addEventListener("touchstart",d):(e.addEventListener("mouseenter",(o=>{if(!l){r(!0,o.clientX,o.clientY),e.style.cursor="none";const n=e.querySelector(".picture__image img");n&&(n.src=t[i].fright),g("./img/sounds/ispugannoe-dyihanie.mp3")}})),e.addEventListener("mouseleave",(()=>{if(!l){r(!1);const o=e.querySelector(".picture__image img");o&&(o.src=t[i].default)}})),e.addEventListener("mousemove",(e=>{!l&&n&&r(!0,e.clientX,e.clientY)})),e.addEventListener("click",d))}})(),(()=>{const e=document.querySelector(".sound-button");e&&e.addEventListener("click",(()=>{s=!s,r("./img/"+(s?"charm_sound-mute.svg":"charm_sound-down.svg"),".sound-button")}))})()},window.FLS=!0,document.documentElement.classList.contains("loading")||window.addEventListener("load",(function(){setTimeout((function(){document.documentElement.classList.add("loaded")}),0)}))})();